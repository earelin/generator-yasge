version: '2'
services:

<% if (dockerCompose.includes('elasticsearch')) { -%>
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:6.3.2
    ports: 
      - 9200:9200
    volumes:
      - elasticsearch-data:/usr/share/elasticsearch/data
<% } -%>

<% if (dockerCompose.includes('mysql')) { -%>
  mysql:
    image: mysql:8.0
    ports: 
      - 3306:3306
    volumes:
      - mysql-data:/var/lib/mysql
<% } -%>

volumes:
<% if (dockerCompose.includes('elasticsearch')) { -%>  elasticsearch-data:
<% } -%>
<% if (dockerCompose.includes('mysql')) { -%>  mysql-data:
<% } -%>

network:
  <%- artifactId %>:
